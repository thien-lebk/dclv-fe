<div class="wrap-content">
  <header class="page header text-contrast bg-dark">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h1 class="bold display-md-4 text-contrast mb-4">Setting</h1>
        </div>
      </div>
    </div>
  </header>

  <section class="section bg-light edge top-left ">
    <div class="container bring-to-front border border-10 ">
      <a
        [routerLink]="['../../', 'list']"
        routerLinkActive="router-link-active"
        type="button"
        class="btn btn-primary position-absolute"
      >
        Back
      </a>
      <div class="row align-items-start gap-y pt-4 mt-4 pb-4 border-bottom">
        <div class="col-md-6 col-lg-5 text-center text-md-left">
          <h2 class="text-dark light">Basic information</h2>
        </div>

        <div class="col-md-6 col-lg-6">
          <form
            action=";"
            class="cozy"
            novalidate="novalidate"
            style="text-align: start"
            [formGroup]="profileForm"
            onsubmit=""
          >
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Name<span class="text-danger">*</span></label
              >
              <div
                class="form-text text-secondary text-ceau-secondary mt-0 mb-2"
              ></div>
              <div class="position-relative">
                <input
                  type="text"
                  class="form-control mb-2 mt-2 pr-4"
                  aria-describedby="emailHelp"
                  placeholder="Enter Name"
                  formControlName="name"
                />
                <dc-copy
                  class="position-absolute"
                  style="top: 8px; right: 6px"
                  [content]="appDetail.name"
                ></dc-copy>
              </div>
            </div>
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Domain<span class="text-danger">*</span></label
              >
              <div
                class="form-text text-secondary text-ceau-secondary mt-0 mb-2"
              ></div>
              <div class="position-relative">
                <input
                  type="text"
                  class="form-control mb-2 mt-2 pr-4"
                  aria-describedby="emailHelp"
                  placeholder="Enter Domain"
                  formControlName="domain"
                />

                <dc-copy
                  class="position-absolute"
                  style="top: 8px; right: 6px"
                  [content]="appDetail.domain"
                ></dc-copy>
              </div>
            </div>
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Client ID<span class="text-danger">*</span></label
              >
              <div
                class="form-text text-secondary text-ceau-secondary mt-0 mb-2"
              ></div>
              <div class="position-relative">
                <input
                  type="text"
                  class="form-control mb-2 mt-2 pr-4"
                  aria-describedby="emailHelp"
                  placeholder="Enter Domain"
                  formControlName="client_id"
                />
                <dc-copy
                  class="position-absolute"
                  style="top: 8px; right: 6px"
                  [content]="appDetail.client_id"
                ></dc-copy>
              </div>
            </div>
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Client Secret<span class="text-danger">*</span></label
              >
              <div class="position-relative">
                <input
                  type="text"
                  class="form-control mb-2 mt-2 pr-4"
                  aria-describedby="emailHelp"
                  placeholder="Enter Domain"
                  formControlName="client_secret"
                />
                <dc-copy
                  class="position-absolute"
                  style="top: 8px; right: 6px"
                  [content]="appDetail.client_secret"
                >
                </dc-copy>
              </div>
              <div
                class="form-text text-secondary text-ceau-secondary mt-0 mb-2"
              >
                The Client Secret is not base64 encoded.
              </div>
            </div>
            <!--          <a *ngIf='appDetail.authorization_grant_type != ' class="btn btn-info" [href]="appDetail.domain + '/accounts/login/'"-->
            <!--            >Login Page</a-->
            <!--          >-->
            <a
              class="btn btn-info"
              [href]="
                appDetail.domain +
                '/api/o/authorize/?response_type=code&' +
                'client_id=' +
                appDetail.client_id +
                '&redirect_uri=' +
                appDetail.redirect_uris
              "
              >Login Page</a
            >
          </form>
        </div>
      </div>
      <div class="row align-items-start gap-y pt-4 mt-4 pb-4 border-bottom">
        <div class="col-md-6 col-lg-5 text-center text-md-left">
          <h2 class="text-dark light">Application Properties</h2>
        </div>

        <div class="col-md-6 col-lg-6">
          <form
            action=";"
            class="cozy"
            novalidate="novalidate"
            style="text-align: start"
            [formGroup]="profileForm"
          >
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Application Logo<span class="text-danger">*</span></label
              >
              <div class="center-flex border-1px-grey p-3 mt-2 border-10">
                <img [src]="logoSrc" style="height: 60px; width: 60px" alt="" />
              </div>
              <div class="center-flex">
                <input
                  type="text"
                  class="form-control mb-2 mt-2"
                  aria-describedby="emailHelp"
                  placeholder="Enter Url Image"
                  [(ngModel)]="logoSrc"
                  [ngModelOptions]="{ standalone: true }"
                />
              </div>

              <div
                class="form-text text-secondary text-ceau-secondary mt-0 mb-2"
              >
                The URL of the logo to display for the application, if none is
                set the default badge for this type of application will be
                shown. Recommended size is 150x150 pixels.
              </div>
            </div>
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Authorization Grant Type<span class="text-danger"
                  >*</span
                ></label
              >

              <select
                class="form-select form-control-rounded valid"
                aria-invalid="false"
                formControlName="authorization_grant_type"
              >
                <option
                  *ngFor="let app of listAuthorizationGrantType"
                  [value]="app.value"
                  [selected]="app.value == appDetail.authorization_grant_type"
                  >{{ app.name }}</option
                >
              </select>
              <!-- <div class="form-text text-secondary text-ceau-secondary mt-0 mb-2">
              The type of application will determine which settings you can
              configure from the dashboard.
            </div> -->
            </div>
            <div class="form-group">
              <label class="form-label mb-0 text-black bold"
                >Algorithm Type</label
              >
              <input
                type="text"
                class="form-control mb-2 mt-2"
                aria-describedby="emailHelp"
                placeholder="Enter Url Image"
                disabled
                [value]="'RS256'"
              />
              <!--            <select-->
              <!--              class="form-select form-control-rounded valid"-->
              <!--              aria-invalid="false"-->
              <!--              formControlName="algorithm"-->
              <!--            >-->
              <!--              <option [value]="null" [selected]="appDetail.algorithm == null"-->
              <!--                >None</option-->
              <!--              >-->
              <!--              <option-->
              <!--                *ngFor="let app of listAppType"-->
              <!--                [value]="app.value"-->
              <!--                [selected]="app.value == appDetail.algorithm"-->
              <!--                >{{ app.name }}</option-->
              <!--              >-->
              <!--            </select>-->
              <!-- <div class="form-text text-secondary text-ceau-secondary mt-0 mb-2">
              The type of application will determine which settings you can
              configure from the dashboard.
            </div> -->
            </div>
            <!-- <div class="form-group">
            <label class="form-label mb-2 text-black bold"
              >Token Endpoint Authentication Method<span class="text-danger"
                >*</span
              ></label
            >
            <select
              class="form-check form-select form-control-rounded valid"
              aria-invalid="false"
            >
              <option *ngFor="let item of tokenEnPoint">{{ item }}</option>
            </select>
            <div class="form-text text-secondary text-ceau-secondary mt-0 mb-2">
              Defines the requested authentication method for the token
              endpoint. Possible values are 'None' (public application without a
              client secret), 'Post' (application uses HTTP POST parameters) or
              'Basic' (application uses HTTP Basic).
            </div>
          </div> -->
          </form>
        </div>
      </div>
      <div class="row align-items-start gap-y pt-4 mt-4 pb-4 border-bottom">
        <div class="col-md-6 col-lg-5 text-center text-md-left">
          <h2 class="text-dark light">Application URIs</h2>
        </div>

        <div class="col-md-6 col-lg-6">
          <form
            action=";"
            class="cozy"
            novalidate="novalidate"
            style="text-align: start"
            [formGroup]="profileForm"
          >
            <div class="form-group">
              <label class="form-label mb-0 text-black bold">
                Redirect URL</label
              >
              <div
                class="form-text text-secondary text-ceau-secondary mt-0 mb-2"
              ></div>
              <div class="position-relative">
                <input
                  type="text"
                  class="form-control mb-2 mt-2 pr-4"
                  placeholder="https://myapp.com"
                  formControlName="redirect_uris"
                />
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="row align-items-start gap-y pt-4 mt-4 pb-4 border-bottom">
        <div class="col-md-12 col-lg-12 text-center text-md-left">
          <h2 class="text-dark light">Scope</h2>
        </div>

        <div class="container my-4 min-vh-100">
          <div class="header mb-4">
            <div class="d-flex justify-content-between">
              <h4 class="text-title-small bold text-uppercase">Permission</h4>
              <button
                type="button"
                class="btn btn-primary text-large"
                (click)="openDialogPermission()"
              >
                Add
              </button>
            </div>
            <h5 class="text-medium my-3">
              Add Permissions to this Role. Users who have this Role will
              receive all Permissions below that match the API of their login
              request.
            </h5>
          </div>
          <table class="table text-medium">
            <thead>
              <tr class="text-dark">
                <th scope="col">Name</th>
                <th scope="col">Url</th>
                <th scope="col">Type</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr class="text-dark" *ngFor="let item of listSelectePermission">
                <td>{{ item.name }}</td>
                <td>{{ item.url }}</td>
                <td>{{ item.type }}</td>
                <td>
                  <a
                    href="javascript:void(0)"
                    class="text-primary bold  text-danger"
                    (click)="removeSelectedPermission(item.id)"
                    >Delete</a
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="save-change center-flex">
        <button class="btn-primary border-10 save-change " (click)="onSubmit()">
          Save change
        </button>
      </div>
      <div
        class="row align-items-start gap-y pt-4 mt-4 pb-4 mb-4 border-bottom"
      >
        <div class="col-12 bold text-black">Danger Zone</div>
        <div class="col-8 col-md-10 text-danger">
          <p>Delete this application</p>
          <p>All your apps using this client will stop working.</p>
        </div>
        <div class="col-4 col-md-2 margin-auto">
          <button class="btn-danger border-10" (click)="onDelete()">
            Delete
          </button>
        </div>
      </div>
    </div>
  </section>
</div>
